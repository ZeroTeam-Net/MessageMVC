# 写在前面人的认知，总在不断的蜕变，昨日的善，今日成恶…恶中有善，善中藏恶…并不是我们错了，而是时间让我们学会了更多维度地看待这个世界。曾经怎么看，怎么对比都是技高一筹的设计，偏偏带来的是满满的质疑，无尽的烦恼。当再一次在进退两难中抉择，我没有选择任何一种，而是看到了一片不一样的天空。一揽子解决方案，简单高效且实用，可殊不知，一千个哈利波特有无穷无尽的飞行模式，执行者亦然如此，带来的结果是更大的失败率，非铁腕不可完成。技术领域，没有铁腕，只有规则。在相同的规则下，各组件有机组合，或丰盛，或简约，或个性，或大众，被接受将是极其简单的事。构建规则，组件剥离，能力下沉，这就是全新的messageMVC，这就是microzero的终结者。# 思想- FLOW流程控制- DI依赖注入- IOC控制反转- Option配置化> 基于netcore强大的配置能力，实现各种高级的配置化能力，从而实现动态运行时微调- AOP面向切面> 通过灵活的中间件实现自由组合# 动力- ZeroFlowControl流程控制> 通过对流程的高度抽象与统一，不同服务，在统一流程控制下，完成不同阶段的任务，进入和退出处于异步状态内部轮训均在可控范围。每一个节点亦可根据实际情况空转，并不拘泥。- IMessageItem消息格式> 现实世界，不同的通信协议，不同的网络数据流，各式各样，我们必须接受这种现实。单我们的诉求是单一的消息处理入口，网络世界最成功的案例，非网关莫属，每一个不同的网络协议，互相妥协，实现一个相同的数据交换标准，从而大获成功。需要简单合理的处理消息，我们必须指定一个交换标准，这就是IMessageItem。通过对各种消息的分析总结，我们发现，主题-标题-内容，可以基本涵盖绝大多数需求，每一个网络传输对象，自行实现接收的数据到标准数据模型的转换，也实现标准数据模型到内部传输的还原，从而支撑mvc思想里的control的功能。- MessageProcess消息处理> 本项目最重要的目的，就是对消息进行处理，得出正确的结果。消息处理，必然源于现实世界的业务需求，即使60%以上的可以通过API接口处理，也就是ApiExecuter。但作为一个灵活组合的开放系统，我们不应该锁定一个用途，把其他需求拒之门外或难以实现。所以我们学习了netcore的中间件的实现，通过链式（先进后出的倒立堆栈形式）控制权传播，前一个组件决定是继续调用下一个组件或者原路返回。在调用链中，每一个中间件可以选择感兴趣的消息进行普通或独占处理。从而灵活的满足不同的消息处理需求。- MessageProducer消息发送> IO处理，是计算机最重要的能力。接受输入，输出结果是计算机的使命。基于IMessageProducer的接口实现数据发送（Input）的各种细节，从而降低使用者门槛，无需精通网络传输技能便可做出高效稳定的项目。- INetTransfer消息接受> 网络数据接受，是项目的另一个重点，支持更多的网络传输能力和无缝切换（长江后浪推前浪是技术领域的常态，企业不断发展，工具必然不断迭代），是决定是否被技术选型挑中的关键。根据消息的特点，我们继承了三种常见的应用场景，IRPCTransfer对应RPC服务，IMessageConsumer对应消息队列，INetEvent对应分布式消息。# 技能碎片，规则- IFlowMiddleware流程处理中间件> 常用于支持服务的正常初始化或细节控制，比如说网络环境的检测等功能，其中最典型的是为zeroRPC与微服务调度中心的交互而实现的ZeroFlow流程控制器。- IService服务中间件> 每一个topic，都需要一个服务进行支持，完成对网络传输工具的控制，从而实现数据接受/处理/返回的正确处理。- INetTransfer网络传输组件- ImessageProducer消息发布组件- IMessageMiddleware消息处理中间件> 实现不同的消息处理能力，从而支持自由组合拳# 核心能力- ApiExecuter接口执行器- ApiDiscovery接口发现工具- IApicontroler接口实现标记# 飞行技能- KafkaMVC卡夫卡发布订阅- ZeroMQInproc进程内通讯- ZeroRPC通过zeroMQ实现的一种RPC通讯- gRPC大名鼎鼎的谷歌RPC- RabbitMQ用户量极大的消息队列- WebsocketBridge消息转发到客户端# 助手- GlobalContext全局上下文，通用参数传递者> 上下文设计模式，可以极度简化状态数据存取，简化方法调用的参数设计。使我们的系统更加的践行AOP模式。- IApiResult返回值规范- IApiArgument参数规范- IOChelper简单使用依赖注入- ConfigurationManager简单的配置读写工具- JsonHelper解决序列化过程的坑- LogRecorder简化日志的记录